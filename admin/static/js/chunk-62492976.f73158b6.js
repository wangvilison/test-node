(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62492976"],{"25a6":function(e,t,a){},3820:function(e,t,a){"use strict";var i=a("25a6"),n=a.n(i);n.a},"4a42":function(e,t,a){e.exports=a.p+"static/img/word_cloud.c8592291.png"},"69f5":function(e,t,a){},"796b":function(e,t,a){"use strict";var i=a("85d6"),n=a.n(i);n.a},"85d6":function(e,t,a){},e8cc:function(e,t,a){"use strict";function i(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var n=a("89d6"),c=a("6f0c"),s=a("4cbb");a("94b1");var l=i(a("6521")),o=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},u=.5;function d(e){var t=e.innerRows,a=e.dimAxisName,i=e.dimension,n=e.axisVisible,c=e.dimAxisType,s=e.dims;return i.map((function(e){return{type:"category",name:a,nameLocation:"middle",nameGap:22,data:"value"===c?f(s):t.map((function(t){return t[e]})),axisLabel:{formatter:function(e){return String(e)}},show:n}}))}function f(e){for(var t=Math.max.apply(null,e),a=Math.min.apply(null,e),i=[],n=a;n<=t;n++)i.push(n);return i}function m(e){for(var t=e.meaAxisName,a=e.meaAxisType,i=e.axisVisible,n=e.digit,s=e.scale,l=e.min,o=e.max,u={type:"value",axisTick:{show:!1},show:i},d=[],f=function(e){a[e]?d[e]=r({},u,{axisLabel:{formatter:function(t){return c.getFormated(t,a[e],n)}}}):d[e]=r({},u),d[e].name=t[e]||"",d[e].scale=s[e]||!1,d[e].min=l[e]||null,d[e].max=o[e]||null},m=0;m<2;m++)f(m);return d}function v(e){var t=e.axisSite,a=e.isHistogram,i=e.meaAxisType,s=e.digit,l=e.labelMap,o=a?t.right||[]:t.top||[];return l&&(o=o.map((function(e){return void 0===l[e]?e:l[e]}))),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach((function(e){var a=e.seriesName,l=~o.indexOf(a)?i[1]:i[0];t.push(n.itemPoint(e.color)),t.push(a+": "),t.push(c.getFormated(e.value,l,s)),t.push("<br>")})),t.join("")}}}function p(e,t){for(var a=Math.max.apply(null,t),i=Math.min.apply(null,t),n=[],c=i;c<=a;c++){var s=t.indexOf(c);~s?n.push(e[s]):n.push(null)}return n}function h(e){var t=e.innerRows,a=e.metrics,i=e.stack,n=e.axisSite,l=e.isHistogram,r=e.labelMap,d=e.itemStyle,f=e.label,m=e.showLine,v=void 0===m?[]:m,h=e.dimAxisType,g=e.barGap,b=e.opacity,x=e.dims,y=[],_={},k=l?n.right||[]:n.top||[],w=l?"yAxisIndex":"xAxisIndex",C=i&&c.getStackMap(i);return a.forEach((function(e){_[e]=[]})),t.forEach((function(e){a.forEach((function(t){_[t].push(e[t])}))})),y=Object.keys(_).map((function(e,t){var a="value"===h?p(_[e],x):_[e],n=o({name:null!=r[e]?r[e]:e,type:~v.indexOf(e)?"line":"bar",data:a},w,~k.indexOf(e)?"1":"0");i&&C[e]&&(n.stack=C[e]),f&&(n.label=f),d&&(n.itemStyle=d);var c=b||s.get(n,"itemStyle.normal.opacity");return"value"===h&&(n.barGap=g,n.barCategoryGap="1%",null==c&&(c=u)),null!=c&&s.set(n,"itemStyle.normal.opacity",c),n})),!!y.length&&y}function g(e){var t=e.metrics,a=e.labelMap,i=e.legendName;if(!i&&!a)return{data:t};var n=a?t.map((function(e){return null==a[e]?e:a[e]})):t;return{data:n,formatter:function(e){return null!=i[e]?i[e]:e}}}function b(e,t){return e.map((function(e){return e[t[0]]}))}var x=function(e,t,a,i){var n=s.cloneDeep(t),c=a.axisSite,l=void 0===c?{}:c,o=a.dimension,r=void 0===o?[e[0]]:o,u=a.stack,f=void 0===u?{}:u,p=a.axisVisible,x=void 0===p||p,y=a.digit,_=void 0===y?2:y,k=a.dataOrder,w=void 0!==k&&k,C=a.scale,T=void 0===C?[!1,!1]:C,A=a.min,S=void 0===A?[null,null]:A,D=a.max,O=void 0===D?[null,null]:D,N=a.legendName,M=void 0===N?{}:N,j=a.labelMap,E=void 0===j?{}:j,V=a.label,G=a.itemStyle,L=a.showLine,R=a.barGap,H=void 0===R?"-100%":R,F=a.opacity,P=i.tooltipVisible,U=i.legendVisible,$=e.slice();l.top&&l.bottom?$=l.top.concat(l.bottom):l.bottom&&!l.right?$=l.bottom:a.metrics?$=a.metrics:$.splice(e.indexOf(r[0]),1);var I=a.xAxisType||["normal","normal"],B=a.yAxisType||"category",J=a.xAxisName||[],z=a.yAxisName||"",W=!1;if(w){var q=w.label,K=w.order;q&&K?n.sort((function(e,t){return"desc"===K?e[q]-t[q]:t[q]-e[q]})):console.warn("Need to provide name and order parameters")}var Q=b(n,r),X=U&&g({metrics:$,labelMap:E,legendName:M}),Y=d({innerRows:n,dimAxisName:z,dimension:r,axisVisible:x,dimAxisType:B,dims:Q}),Z=m({meaAxisName:J,meaAxisType:I,axisVisible:x,digit:_,scale:T,min:S,max:O}),ee=h({innerRows:n,metrics:$,stack:f,axisSite:l,isHistogram:W,labelMap:E,itemStyle:G,label:V,showLine:L,dimAxisType:B,dimension:r,barGap:H,opacity:F,dims:Q}),te={axisSite:l,isHistogram:W,meaAxisType:I,digit:_,labelMap:E},ae=P&&v(te),ie={legend:X,yAxis:Y,series:ee,xAxis:Z,tooltip:ae};return ie},y=r({},l,{name:"VeBar",data:function(){return this.chartHandler=x,{}}});e.exports=y},e9d7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"words-cloud-container"},[i("div",{staticClass:"header-options p-flex p-ai-c p-jc-sb"},[i("div",{staticClass:"btn-selector"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openSelectorTag()}}},[e._v("请选择标签")])],1),e._v(" "),i("div",{staticClass:"tag-list"})]),e._v(" "),i("div",{staticClass:"display-info"},[i("div",{staticClass:"header-title"},[e._v("人群活动类型推荐：家用出行，保养赠送，维修优惠")]),e._v(" "),i("div",{staticClass:"word-cloud"},[i("img",{attrs:{src:a("4a42"),alt:"",width:"220",height:"220"}}),e._v(" "),i("div",{staticClass:"info-box info-box-1"},[i("table-info",{attrs:{data:e.infoData,title:"基本信息","main-color":"#0099ff",placement:"left"}})],1),e._v(" "),i("div",{staticClass:"info-box info-box-2"},[i("table-info",{attrs:{data:e.infoData,title:"资产金融","main-color":"#ffcc66",placement:"left"}})],1),e._v(" "),i("div",{staticClass:"info-box info-box-3"},[i("table-info",{attrs:{data:e.infoData,title:"地区分布","main-color":"#9900ff",placement:"left"}})],1),e._v(" "),i("div",{staticClass:"info-box info-box-4"},[i("table-info",{attrs:{data:e.infoData,title:"购车意向","main-color":"#33ff99"}})],1),e._v(" "),i("div",{staticClass:"info-box info-box-5"},[i("table-info",{attrs:{data:e.infoData,title:"行为偏好","main-color":"#ff0066"}})],1)])]),e._v(" "),i("alert",{attrs:{visible:e.tagSelectShow,title:"请选择标签信息",top:"6vh",width:"1000px"},on:{"update:visible":function(t){e.tagSelectShow=t},change:e.confirm}},[i("div",{staticClass:"alert-content",attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"often-tag p-flex p-ai-c"},[i("div",{staticClass:"title"},[i("p",[e._v("常用的标签")]),e._v(" "),i("p",[e._v("\n            (最多展示\n            "),i("span",{staticClass:"p-danger"},[e._v("10")]),e._v("个常用)\n          ")])]),e._v(" "),i("div",{staticClass:"tag-list p-flex p-ai-c"},e._l(e.oftenTags,(function(t,a){return i("el-tag",{key:a,staticClass:"tag-item",attrs:{effect:t.checked?"dark":"plain",type:t.checked?"":"info"},on:{click:function(i){return e.checkedTag(t,a)}}},[e._v(e._s(t.value))])})),1)]),e._v(" "),i("div",{staticClass:"often-tag p-flex p-ai-c"},[i("div",{staticClass:"title"},[i("p",[e._v("已选择标签")]),e._v(" "),i("p",[e._v("\n            (最多只能选择\n            "),i("span",{staticClass:"p-danger"},[e._v("5")]),e._v("项)\n          ")])]),e._v(" "),i("div",{staticClass:"tag-list p-flex p-ai-c"},e._l(e.selectedTags,(function(t,a){return i("el-tag",{key:a,staticClass:"tag-item",attrs:{closable:"",effect:"plain",type:"info"},on:{close:function(i){return e.closeTag(t,a)}}},[e._v(e._s(t.value))])})),1)]),e._v(" "),i("div",{staticClass:"all-tags"},[i("cascader-panel",{attrs:{"menu-data":e.menuData},on:{"change-tag":e.changeTag}})],1)])])],1)},n=[],c=(a("ac6a"),a("db72")),s=(a("96cf"),a("3b8d")),l=a("2dc0"),o=a("b775"),r={getDirectoryTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post("/portrait/userlabel/getDirectoryTree",e)},findOftenUseDimensionality:function(){return o["a"].get("/portrait/oftenUselabel/findOftenUseDimensionality")}},u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cascader-panel p-flex"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:0===e.menuData.length,expression:"menuData.length === 0"}],staticClass:"cascader-menu-first",attrs:{"element-loading-spinner":"el-icon-loading"}},[a("ul",{staticClass:"menu-list"},e._l(e.menuData,(function(t,i){return a("li",{key:i,class:e.menu1Active===i?"menu-item-active":"",on:{click:function(a){return e.clickFirstMenu(t,i)}}},[e._v(e._s(t.directory_name))])})),0)]),e._v(" "),-1!==e.menu1Active?a("div",{staticClass:"cascader-menu-second"},[a("ul",{staticClass:"menu-list"},e._l(e.menuData[e.menu1Active].childNode,(function(t,i){return a("li",{key:i,class:e.menu2Active===i?"menu-item-active":"",on:{click:function(a){return e.clickSecondMenu(t,i)}}},[e._v(e._s(t.directory_name))])})),0)]):e._e(),e._v(" "),-1!==e.menu1Active&&-1!==e.menu2Active?a("div",{staticClass:"cascader-menu-third"},e._l(e.menuData[e.menu1Active].childNode[e.menu2Active].childNode,(function(t,i){return a("el-tag",{key:i,staticClass:"tag-item",attrs:{effect:t.checked?"dark":"plain",type:t.checked?"":"info"},on:{click:function(a){return e.checkedTag(t,i)}}},[e._v(e._s(t.value))])})),1):e._e()])},d=[],f={props:{menuData:{type:Array,default:function(){return[]}}},data:function(){return{menu1Active:-1,menu2Active:-1,menu3Active:-1}},methods:{clickFirstMenu:function(e,t){this.menu1Active!==t&&(this.menu1Active=t,this.menu2Active=-1)},clickSecondMenu:function(e,t){this.menu2Active!==t&&(this.menu2Active=t)},checkedTag:function(e,t){this.$emit("change-tag",{item:e,index:t})}}},m=f,v=(a("3820"),a("2877")),p=Object(v["a"])(m,u,d,!1,null,"7f0262f4",null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-info",style:{width:e.width}},[a("h2",{staticClass:"title",style:{color:e.mainColor}},[e._v(e._s(e.title))]),e._v(" "),a("el-popover",{ref:"popover",attrs:{placement:e.placement,width:"200",trigger:"click"}},[a("div",{staticClass:"chart--"},[a("ve-bar",{attrs:{data:e.chartData,height:"200px",width:"200px"}})],1)]),e._v(" "),a("ul",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"info-list"},e._l(e.data,(function(t,i){return a("li",{key:i,staticClass:"item p-flex p-ai-c",style:{"background-color":e.mainColor}},[a("span",{staticClass:"cell"},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticClass:"cell"},[e._v(e._s(t.value))])])})),0)],1)},b=[],x=a("e8cc"),y=a.n(x),_={components:{VeBar:y.a},props:{title:{type:String,default:"标题"},data:{type:Array,default:function(){return[]}},mainColor:{type:String,default:""},width:{type:String,default:"180px"},placement:{type:String,default:"right"}},data:function(){return{chartData:{columns:["年龄","访问用户","下单用户"],rows:[{"年龄":"25","访问用户":1393,"下单用户":1093},{"年龄":"26-30","访问用户":3530,"下单用户":3230},{"年龄":"31-35","访问用户":4593,"下单用户":4293}]}}}},k=_,w=(a("f251"),Object(v["a"])(k,g,b,!1,null,"dfa34e2a",null)),C=w.exports,T={name:"WordsCloud",components:{alert:l["a"],cascaderPanel:h,tableInfo:C},data:function(){return{tagSelectShow:!1,oftenTags:[{id:8,value:"26-30岁",checked:!1},{id:2,value:"男",checked:!1},{id:3,value:"本科",checked:!1},{id:4,value:"高中/中专/技校",checked:!1},{id:5,value:"偏好-手动",checked:!1},{id:6,value:"高意向用户",checked:!1}],selectedTags:[],menuData:[],infoData:[{label:"年龄",value:18},{label:"年龄",value:18},{label:"年龄",value:18},{label:"年龄",value:18},{label:"年龄",value:18},{label:"性别",value:"women"}]}},watch:{selectedTags:function(){}},mounted:function(){},methods:{openSelectorTag:function(){0===this.menuData.length&&(this.getDirectoryTree(),this.getOftenTags()),this.tagSelectShow=!this.tagSelectShow},getOftenTags:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.findOftenUseDimensionality();case 2:t=e.sent,console.log(t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getDirectoryTree:function(){var e=this;r.getDirectoryTree().then((function(t){console.log("res",t.data),e.menuData=t.data.map((function(e){return Object(c["a"])({},e,{checked:!1,childNode:e.childNode.map((function(e){return Object(c["a"])({},e,{checked:!1,childNode:e.childNode.map((function(e){return Object(c["a"])({},e,{checked:!1})}))})}))})})),console.log(e.menuData)}))},checkedTag:function(e,t){var a=this,i=function(){a.selectedTags.forEach((function(t,i){e.value===t.value&&a.selectedTags.splice(i,1)}))};this.selectedTags.length<5?(e.checked?i():this.selectedTags.push(e),e.checked=!e.checked):e.checked&&(e.checked=!e.checked,i())},closeTag:function(e,t){this.oftenTags.forEach((function(t){e.value===t.value&&(e.checked=!1)})),this.menuData.forEach((function(t){t.childNode.forEach((function(t){t.childNode.forEach((function(t){t.value===e.value&&(t.checked=!t.checked)}))}))})),this.selectedTags.splice(t,1)},changeTag:function(e){var t=e.item,a=e.index;this.checkedTag(t,a)},confirm:function(){this.tagSelectShow=!this.tagSelectShow}}},A=T,S=(a("796b"),Object(v["a"])(A,i,n,!1,null,"d58c8d26",null));t["default"]=S.exports},f251:function(e,t,a){"use strict";var i=a("69f5"),n=a.n(i);n.a}}]);